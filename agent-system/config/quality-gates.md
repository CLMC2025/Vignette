# 质量门禁检查清单

> 本文件定义每个功能必须通过的质量检查项。

---

## 代码质量门禁

### 编译检查
- [ ] 代码无语法错误
- [ ] 所有导入路径正确
- [ ] 无循环依赖
- [ ] 类型定义完整

### 类型检查
- [ ] 无 `any` 类型使用
- [ ] 无 `unknown` 类型使用
- [ ] 空值正确处理
- [ ] 泛型类型正确

### 代码风格
- [ ] 命名符合规范
  - 类/接口：PascalCase
  - 变量/函数：camelCase
  - 常量：UPPER_SNAKE_CASE
- [ ] 文件命名正确
- [ ] 无硬编码像素值
- [ ] 注释清晰有效

---

## 功能质量门禁

### 验收标准
- [ ] 所有验收标准项已实现
- [ ] 功能行为符合预期
- [ ] 边界条件已处理
- [ ] 错误情况已处理

### 依赖检查
- [ ] 依赖的功能已完成
- [ ] 无缺失的依赖
- [ ] 接口兼容

---

## 测试质量门禁

### 单元测试
- [ ] 新代码有对应测试
- [ ] 测试用例覆盖正常路径
- [ ] 测试用例覆盖边界条件
- [ ] 测试用例覆盖错误路径
- [ ] 所有测试通过

### 集成测试
- [ ] 数据库操作正确
- [ ] API调用正确
- [ ] 状态管理正确

---

## 性能质量门禁

### 渲染性能
- [ ] 无不必要的重渲染
- [ ] 列表使用 LazyForEach
- [ ] 图片正确优化
- [ ] 无内存泄漏

### 运行性能
- [ ] 无阻塞主线程的操作
- [ ] 异步操作正确处理
- [ ] 资源正确释放

---

## 安全质量门禁

### 数据安全
- [ ] 敏感数据加密存储
- [ ] 无硬编码密钥
- [ ] 无敏感信息日志

### 权限安全
- [ ] 只申请必要权限
- [ ] 敏感权限动态申请
- [ ] 用户数据正确处理

---

## 文档质量门禁

### 代码文档
- [ ] 复杂逻辑有注释
- [ ] 公共接口有文档
- [ ] 重要决策有记录

### 追踪文件
- [ ] feature-list.md 状态更新
- [ ] ai-progress.txt 记录完整
- [ ] session-context.md 上下文清晰

---

## 会话结束门禁

### 代码状态
- [ ] 代码可编译
- [ ] 测试可运行
- [ ] 无未提交的变更
- [ ] 无 TODO 标记遗留

### 状态文件
- [ ] 功能状态已更新
- [ ] 进度已记录
- [ ] 下一步已明确

---

## 门禁执行顺序

```
1. 编译检查 → 失败则停止
2. 类型检查 → 失败则停止
3. 代码风格 → 警告可继续
4. 单元测试 → 失败则停止
5. 功能验证 → 失败则停止
6. 文档检查 → 警告可继续
7. 状态更新 → 必须完成
```

---

## 门禁结果记录

| 检查项 | 状态 | 备注 |
|--------|------|------|
| 编译 | ⬜ | |
| 类型检查 | ⬜ | |
| 代码风格 | ⬜ | |
| 单元测试 | ⬜ | |
| 功能验证 | ⬜ | |
| 文档检查 | ⬜ | |
| 状态更新 | ⬜ | |

状态说明：✅ 通过 | ❌ 失败 | ⚠️ 警告 | ⬜ 未检查

---

> 版本：1.0 | 最后更新：2025-02-13
